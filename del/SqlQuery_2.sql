IF schema_id('pq') IS NULL
    EXECUTE('CREATE SCHEMA [pq]')
CREATE TABLE [pq].[CalendarStage] (
    [Id] [int] NOT NULL IDENTITY,
    [Name] [nvarchar](250),
    [SortOrder] [int] NOT NULL DEFAULT 0,
    CONSTRAINT [PK_pq.CalendarStage] PRIMARY KEY ([Id])
)
CREATE TABLE [pq].[CalendarStatus] (
    [Id] [int] NOT NULL IDENTITY,
    [Name] [nvarchar](250),
    [SortOrder] [int] NOT NULL DEFAULT 0,
    [CalendarStageId] [int],
    [ServiceId] [int],
    CONSTRAINT [PK_pq.CalendarStatus] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_CalendarStageId] ON [pq].[CalendarStatus]([CalendarStageId])
ALTER TABLE [pq].[CalendarStatus] ADD CONSTRAINT [FK_pq.CalendarStatus_pq.CalendarStage_CalendarStageId] FOREIGN KEY ([CalendarStageId]) REFERENCES [pq].[CalendarStage] ([Id])
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201904021305292_init', N'PQ.QnAppCalendar.Db.Migrations.Configuration',  0x1F8B0800000000000400ED59DB6EE336107D2FD07F10F458642D274181D6B077913A4911747355B2E85B404B638728456949CAB051F4CBFAD04FEA2F74A89B25528AE5DCB05B2C0218313573E63E9AA1FFFDFB9FF18755C49C250849633E71F70743D7011EC421E58B899BAAF9BB9FDC0FEFBFFF6E7C12462BE7534977A8E99093CB89FBA05432F23C193C4044E420A28188653C5783208E3C12C6DEC170F8B3B7BFEF0142B888E538E39B942B1A41F605BF4E631E40A252C2CEE310982CCEF1899FA13A17240299900026EED5F5E09A1F25C99430E0211183E399EB1C314A50151FD8DC7508E7B1220A151DDD49F09588F9C24FF080B0DB75024837274C4261C06843DED796E181B6C5DB309650412A551CED08B87F5838C733D99FE462B7721EBAEF04DDACD6DAEACC8513B7F49AAFC8023D604A1C4D99D0D4AD6E1E3498F79C1692BD2A453093F4DF9E334D994A054C38A44A10866CE98CD1E03758DFC67F009FF094B1BACEA8353E6B1CE0D1958813106A7D03F3C292B3D075BC269F6732566C359EDCBC33AE0E0F5CE702859319832A256AAEF0552CE057E0208882F08A2805826B0CC89C6A493764E9CF521AE620D693EB9C93D547E00BF530710F7EC40A3AA52B08CB9342833B4EB1FC90498914B609F163A12E4508629B5D7598B1B7498BBEC9A252F98C6C41EE6FE9F2B5A68B0DD3E8039693B6A800624983AD5C1764491799631F93ED3A37C0322AF94093BCFF1B79776F309C8A38BA899995DD4DBA7B3F4E45A00312F720BE256201AA5F911D49190734D3B9B5CA0C7D9B5E39E1A1B38BF27936D94EC1D4C232A3091616AA38717FB0FCDF53526979BB24EDEFA6A0E160B06FC9C22205A1AB84301C0424963DE5CAAE68CA039A10B6835A0646CFBEA0635749339F1C43827250D91DE2D0470DABA46C9D2AD14617DBE6BEB157CB39BBDF238F420E10852657D7C7337D062BD5D2F171A02A9ABE2C5A8E99371AD307D55EAE9B9A68CF162B0B3BD1B22C7E0C2E2330F06A8EE80235FB458DA54F7F31A3B663C55606DBB65A09B16389B643B738DD6B7AA9A5A75529B399D3BD7C502F077AAF63A21F9F9324C1775B6DC22F4E1C3F1FEFA7EFFCDDC7DE28C7F002D932FD56DA5692F04D8D861B4F51346A7A4A8554C7449119D1EFC169185964F502E948D752525B0DD8612C73B8E4D2FF97B5B865086FE92D05CA299A18E93E95CD259DC1B7F8B39D8B30225A66A169CCD28877F7CD6EEE7CBAA9F3E727FD116AA34B1DA6766C638D3DC319564FB59C6F948219D15DE3AD2BF70503DE02B75BC45B01FE4F21EFC2B2DEAF75C4AD2FDF4774DC8CB30D1D37C76F9C96568F36492AE955AF367AF2B8E88FDBAF62AC869993B80E3A694943DD2CFDB554100D34C1C0FFCCA68CA2BD1B8273C2E91CA4CA773BF760B87F605CE67C39172B9E9421DBE576E5CDB754AA5DBB750FDD71D9AB2FA67C4944F04084BD9A6E409FB487669ABFCAA5C5B720BC60107A5F056450D6F27086EBCB6AE2FE99F18E9CB3DFEF0DF63D275368E40C9DBF7636C7BC5830CCB131DE6E455F742EE33D57E4AE59FF593BFE73F7EED6F1F39537ECAF6C99B6578A175D97F3F7EDC44D3E6322E469FECA0BF5E312BFE09D7BD1B95DDB6E7AB4E07AAFE82FB348DBC3182669EDD733AC1749171B08FD5B1A87A0919E15CD199FC765B9181A952446573D074542CCDD23A1E89C040A1F072065763DFD89B014494EA2198467FC325549AAD0648866AC71DDADABED31F9D96D4153E7F16592DDEABE8409A8264513E092FF925216567A9FB60C191D10BA8C8BB7B98EA5D26FF5C5BA42BA88794FA0C27D55F7B985286108262FB94F96F014DDEE247C840509D6E54CDD0DB23D104DB78F8F29590812C90263C38F5F3187C368F5FE3F18DC520E441E0000 , N'6.2.0-61023')


IF schema_id('pq') IS NULL
    EXECUTE('CREATE SCHEMA [pq]')
CREATE TABLE [pq].[CalendarStage] (
    [Id] [int] NOT NULL IDENTITY,
    [SortOrder] [int] NOT NULL DEFAULT 0,
    [Name] [nvarchar](250),
    [StageType] [int] NOT NULL,
    CONSTRAINT [PK_pq.CalendarStage] PRIMARY KEY ([Id])
)
CREATE TABLE [pq].[CalendarStageService] (
    [Id] [int] NOT NULL IDENTITY,
    [CalendarStageId] [int] NOT NULL,
    [ServiceId] [int] NOT NULL,
    CONSTRAINT [PK_pq.CalendarStageService] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_CalendarStageId] ON [pq].[CalendarStageService]([CalendarStageId])
ALTER TABLE [pq].[CalendarStageService] ADD CONSTRAINT [FK_pq.CalendarStageService_pq.CalendarStage_CalendarStageId] FOREIGN KEY ([CalendarStageId]) REFERENCES [pq].[CalendarStage] ([Id]) ON DELETE CASCADE

INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201904042031219_init', N'PQ.QnAppCalendar.Db.Migrations.Configuration',  0x1F8B0800000000000400ED59DB6EE336107D2FD07F10F458642DDB8B02AD61EF22B59322E8264EA264D1B78096C60E518AD2929461A3E897F5A19FD45FE8E87EA1655976B2DB2D8A0582353D73E6C233430EFDF79F7F8DDF6F3C66AC4148EAF38939E8F54D03B8E3BB94AF2666A8966F7E30DFBFFBF69BF185EB6D8C8F99DCDB480E35B99C98CF4A0523CB92CE337844F63CEA085FFA4BD5737CCF22AE6F0DFBFD1FADC1C002843011CB30C6F72157D483F8037E9CFADC814085845DFB2E3099AEE337768C6ADC100F64401C9898B777BD3B7E1E0453C280BB44F4660BD3386794A02B36B0A56910CE7D45143A3A7A94602BE1F3951DE002610FDB00506E499884348051217E682CFD61148B552866504E2895EF75041CBC4D9363D5D58F4AB199270FD377816956DB28EA38851333CB9AADC80A3350B7389A321149EF4C73AFA27C66EC1039CB29824C8AFE9D19D390A950C08443A80461A8162E18757E81ED83FF1BF0090F192BFB8C5EE37795055CBA157E00426DEF61994672E59A8655D5B3EA8AB95A492709EF8AABB743D3B841E364C120A7442915B6F205FC0C1C0451E0DE12A540F00803E2A46AD66BB66C5FA8B97041B499DC0F13FDCD1090CA5896A6714D361F80AFD4F3C41C7E8F85784937E0662B29EA23A758C5A8A444D86A24DED0C846175FC756C1AEC33967835853E734EAA518FF3370FFAE5672D66EB8852249CE3BC3DC90355DC5E1ECF3CE34EE81C552F299064923DFB9E74F35B54BE17BF73E6B605955FAC9F6431151EFC13F58E5818815A8C3887F2EA5EFD0388A3DCCAF4550CDD605778DEEE124CDA12965D82FB00068809447A727E677DA1E75B29A65A4C96ADDDCC0AC57D29CCF808102E3DC490EC929910E7175EE609EDDEA0A161F8888FD84E19D41623953AEF44AA5DCA101619D83AA211D58F591A7B9CDFA373308D00EBADC795F0F71462B71DDB3DC815A6EDB5239B64A7CD6FB3BEA28D400917A727B375B446BB0513B7A3BDEC3D2F62ED313A9CEC008D306B52B2E691A45C1EDA69C46E83D7069D25B51F3F2A98197D2B2DF42BD5795140FEF70F5FD3CAA43E4F9684C85C69BA37A42931DCD40855C28BFA3BBE6042B86012B9906B2A9C16A181BC6D72408F0A2541A23D215C34E6688E91BBBFBDDDA4B302C47EEB862E7DEE696F0ECC6C86BDFA269F4F4920AA966449105894ECCA9EB6962E5726AE076666967C5E8DB99513D538BFE9F956ECB7D6B472B4A512E31462F6A6EF155A569FB75FD78B2238C881DD7A3A9CF428F3737DB66EDD295BB0C525A3E1C2BB977976192950EDE1497EA8A37C5B28E35B66A89D5DAB9B691DA9159A54777F2E44DE145399475D313A9D408F33A8CD2CED73254EBE1BB871BC56DBAC28D62F9337343EBBA7591DC7ADE7D6B5D769C76BCF6171CAD052622A681495A53376A7FF6562AF07A9140CFFEC4A68C62BC85C035E174095225F39B39EC0F86B537A07FCF7B8C25A5CBBA3CCA7CF6499446A96D9D35BBCE8BF5E78FD8CA098F1F7C4D84F34C84FEFC51801EF5D6D1EED8692F1DFF8DFD6C784C886D69D7FD2B1C383613F3F75877645CFDFA54533F33626E8C8CBEF1C7E94F11C7EFE0EB8DEC5F6840DE7F6D7F81B782D327F02F35657F6503B53E28749871DB27E6E4CC9D98C12724455237A7CFD4078FD46DD6BFAAD9BB79EEED3C57B78EEAAF3348EB5737A473E9273AAC2F49570544F4831D07A742E45CE68A2FFDACB06A1E6522B5867E0D8AB8C8F273A1E892380ABFC6F943C6BF757C242C44910B6F01EE159F872A0815860CDE82551EC0A3BADC673F7E2DA8FA3C9E07F18BF34B84806E520C01E6FCA7903237F7FB72C759D40011157C7A60477BA9A2837BB5CD916E7C7E20509ABEBC4F3D8017300493736E93351CE3DBA3840FB022CE36BB813783B46F4435EDE319252B413C996214FAF81139EC7A9B77FF003B9013A4A91E0000 , N'6.2.0-61023')

